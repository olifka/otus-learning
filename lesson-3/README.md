# OTUS Learning
# Урок 4 " NFS, FUSE "


# Задача:

Vagrant стенд для NFS или SAMBA
NFS или SAMBA на выбор:

vagrant up должен поднимать 2 виртуалки: сервер и клиент
на сервер должна быть расшарена директория
на клиента она должна автоматически монтироваться при старте (fstab или autofs)
в шаре должна быть папка upload с правами на запись
- требования для NFS: NFSv3 по UDP, включенный firewall


# Решение:

Скрипты [nfss_script.sh](nfss_script.sh) и [nfsc_script.sh](nfss_script.sh) выполняют первичную подготовку nfs-сервера и клиента соответственно.

Файлы [nfss-exports](nfss-exports) и [nfsc-unit](nfsc-unit) являются прообразами файлов /etc/exports для сервера и systemd-юнита монтирования для клиента.

[nfss_script.sh](nfss_script.sh) устанавливает необходимые для запуска сервера пакеты, включает на нём фаервол и открывает необходимые для работы nfs порты, затем копирует подготовленный файл [nfss-exports](nfss-exports) в /etc/exports и запускает все нужные службы.

[nfsc_script.sh](nfss_script.sh) устанавливает необходимый для работы клиента пакет nfs-utils, копирует подготовленный модуль systemd [nfsc-unit](nfsc-unit) в папку с модулями, делает правки в /etc/fstab, совершает монтирование к серверу, создаёт папку /nfs_share/upload и выдаёт на неё права пользователю vagrant.
